<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>WOOFLY</title>
<link rel="icon" href="image/woofly.png">
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css"
	rel="stylesheet"
	integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9"
	crossorigin="anonymous">
<style>
	.board-list {
		cursor: pointer;
	}
</style>
</head>
<body>
    <div th:replace="~{common/top :: top}"></div>
	<!-- 메인 네비게이션 바 아래 있는 모든 요소들 -->
	<main>
		<div class="container-fluid d-flex mx-5">
			
			<!-- 관리자만 보이게!!!!!!!!!!!!!!!!!!! -->
			<div th:replace="~{common/adminNav :: adminNav}"></div>
			
			<div class="container mt-4 col-10 mb-5">
				<div class="col-md-12 mt=1 mb-4">
					<div class="card">
						<div class="card-header">
							<h4>콘테스트 등록</h4>
						</div>
						<div class="card-body">
							<form action="/contest/contestOpen">
								<table class="table">
									<tbody>
										<tr>
											<th style="width: 25%">콘테스트 기수</th>
											<td>
												<input class="form-control" type="number" aria-label="default input example" name="conGen" th:value="${ c.conGen + 1 }">
											</td>
										</tr>
										<tr>
											<th>콘테스트 테마</th>
											<td>
												<input class="form-control" type="text" aria-label="default input example" name="conName" value="콘테스트" >
											</td>
										</tr>
										<tr>
											<th>콘테스트 시작일</th>
											<td>
												<input type="date" name="conStartDate"  th:min="${ c.conEndDate }" th:value="${ c.conEndDate }" style="width: 14%">
											</td>
										</tr>
										<tr>
											<th>콘테스트 종료일</th>
											<td>
												<input type="date" name="conEndDate" id="conEndDate" th:min="${ c.conEndDate }" style="width: 14%">
											</td>
										</tr>
									</tbody>
								</table>
								<div class="container text-center">
									<button class="btn btn-lg fs-10 col-2 m-0 rounded-2 btn-outline-primary">등록</button>
									<button type="button" class="btn btn-lg fs-10 col-2 m-0 rounded-2 btn-outline-dark" onclick="javascript:history.back();">이전</button>
	 							</div>
							</form>
						</div>
					</div>
				</div>
			</div>
		</div>
    </main>
	
	<script th:inline="javascript">
		window.onload = () => {
			const anav = document.getElementById('myNav6')
			anav.style.fontWeight = 'bold';
		}
		
		function getFutureDates(numDays) {
		    const today = new Date(/*[[${ c.conEndDate }]]*/);
		    const futureDates = [];
			
		    for (let i = 1; i <= numDays; i++) {
		        const futureDate = new Date(today);
		        futureDate.setDate(today.getDate() + i);
		        futureDates.push(futureDate);
		    }
		    return futureDates;
		}

		const numDaysToFetch = 7;  // 7일 이후의 날짜들을 가져옵니다.
		const futureDates = getFutureDates(numDaysToFetch);
		var conEndDate = document.getElementById("conEndDate");
		
		futureDates.forEach(date => {
		    
		    function formatDate(date) {
		        const year = date.getFullYear();
		        const month = String(date.getMonth() + 1).padStart(2, '0'); // 월은 0부터 시작하므로 +1 해주고, 2자리로 맞춰줍니다.
		        const day = String(date.getDate()).padStart(2, '0'); // 일자도 2자리로 맞춰줍니다.

		        return `${year}-${month}-${day}`;
		    }

		    const yourDate = new Date(date); 
		    const formattedDate = formatDate(yourDate); // 여기에 자신의 날짜를 넣으세요.
//		    console.log(formattedDate); // yyyy-mm-dd 형식의 날짜 출력
		    
		    conEndDate.value = formattedDate;
		});
		
		
	</script>
	
</body>
</html>