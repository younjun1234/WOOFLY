<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>petDiary</title>
<link rel="icon" href="/image/woofly.png">
<style>
	.active {
		color: black !important;
		font-weight: 700 !important;
	}
</style>
</head>
<body>
	<!-- top navigation bar -->
	<!-- 마이 페이지에 공통으로 들어가는 navigation bar -->
	<div th:replace="~{common/top :: top}"></div>
	<!-- 메인 네비게이션 바 아래 있는 모든 요소들 -->
	<main>
		<div class="d-flex justify-content-between mx-5">
			<div th:replace="~{common/myNav :: myNav}"></div>
			<!-- 아래만 수정해주세요 -->
			<!-- 아래만 수정해주세요 -->
			<!-- 아래만 수정해주세요 -->
			<!-- 아래만 수정해주세요 -->
			<!-- 아래만 수정해주세요 -->
			<!-- 아래만 수정해주세요 -->
			<div class="col-10">
				<div class="border-bottom border-3 border-black">
					<h3>마이펫 다이어리</h3>
				</div>	
				<div class="border-top border-bottom bg-body-tertiary d-flex align-items-center justify-content-center" style="height: 70px;">
					<div>
						<button class="btn btn-outline-dark btn-sm" onclick="getMonths(7);">일주일</button>
						<button class="btn btn-outline-dark btn-sm" onclick="getMonths(1);">한달</button>
						<button class="btn btn-outline-dark btn-sm" onclick="getMonths(3);">3개월</button>
					</div>
					&nbsp;&nbsp;&nbsp;
					<div class="d-flex">
						<input type="date" class="form-control d-block">
						<span class="my-auto">~</span>
						<input type="date" class="form-control d-block">
					</div>
					&nbsp;&nbsp;&nbsp;
					
					<div>
						<button class="btn btn-dark btn-sm">조회</button>
					</div>
				</div>
				    <span class="text-secondary" style="font-size: 13px;">한 번에 조회 가능한 기간은 최대 3개월입니다.</span>
				<div class="d-flex bd-highlight mb-2">
				  <div class="p-2 bd-highlight">
					  <select class="form-select" name="petName" style="width: 160px;">
						  <option selected disabled>마이펫 선택</option>
					  	  <option th:each="p : ${pet}" th:value="${p.petId}" th:text="${p.petName}"></option>
					  </select>
				  </div>
				  <div class="p-2 bd-highlight">
					  <select class="form-select" name="petHealth" style="width:160px">
							<option selected disabled>오늘의 상태</option>
							<option value="A">😻 신나요</option>
							<option value="B">😸 그냥 그래요</option>
							<option value="C">😺 무기력해요</option>
							<option value="D">😿 아파요</option>
					  </select>
				  </div>
				  <div class="p-2 bd-highlight">
				  		<button class="btn btn-dark btn-sm">조회</button>
				  </div>
				  <div class="ms-auto p-2 bd-highlight">
				  	 <a href="/pet/petDiaryWrite" class="btn btn-dark btn-sm justify-content-end">다이어리 쓰기</a>
				  </div>
				</div>
				
				<div th:each="d : ${list}" class="rounded d-flex justify-content-between mb-3" style="border: 1px solid black; height: 100px;" role="button" th:onclick="|location.href='/pet/petDiaryDetail/${d.drNo}'|">
				    <div class="d-flex align-content-center ms-3">
				        <div class="ms-3 d-flex" style="line-height: 100px;">
				            <strong style="width: 100px;">[[${d.petName}]]</strong>
				            <div><img th:src="'/image/' + ${d.petProfile}" class="me-3" style="width: 50px; height: 50px; border-radius: 100px; border: 1px grey;"></div>
				            <div th:text="${d.drContent}"></div>
				        </div>
				    </div>
				    <div class="d-flex">
				        <th:block class="me-1" style="width: 100px;" th:switch="${d.petHealth}">
					        <p th:case="A" style="line-height: 100px;">😻 신나요</p>
					        <p th:case="B" style="line-height: 100px;">😸 그냥 그래요</p>
					        <p th:case="C" style="line-height: 100px;">😺 무기력해요</p>
					        <p th:case="D" style="line-height: 100px;">😿 아파요</p>
					    </th:block>
					    &nbsp;&nbsp;
				        <div class="me-3" style="width: 100px; line-height: 100px;" th:text="${#dates.format(d.drDate, 'yyyy-MM-dd')}"></div>
				    </div>
				</div>
					<!-- 최대 7개만 보여주고 더보기 누를 때 마다 7개식 추가로 보여주면 될 듯..? -->
					<!-- <div class="d-flex my-3 justify-content-center my-4">
						<button class="btn btn-outline-dark col-3">더보기 ▼</button>
					</div> -->
				</div>
			</div>
	</main>
	<script>
		const myNav = document.getElementById("myPet3");
		$(myNav).removeClass('text-secondary');
		$(myNav).addClass('active');
		
	</script>
</body>
</html>