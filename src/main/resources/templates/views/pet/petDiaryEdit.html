<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<head>
<meta charset="UTF-8">
<title>WOOFLY</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
<link rel="icon" href="${ contextPath }/resources/image/woofly.png">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm" crossorigin="anonymous"></script>
<script type="text/javascript" src="https://cdn.jsdelivr.net/jquery/latest/jquery.min.js"></script>
<style>
	.active {
		color: black !important;
		font-weight: 700 !important;
	}
	
	input{
		border: none; 
		background: transparent;
		width:100%
	}
</style>
</head>
<body>
	<!-- top navigation bar -->
	<!-- ë§ˆì´ í˜ì´ì§€ì— ê³µí†µìœ¼ë¡œ ë“¤ì–´ê°€ëŠ” navigation bar -->
	<div th:replace="~{common/top :: top}"></div>
	<!-- ë©”ì¸ ë„¤ë¹„ê²Œì´ì…˜ ë°” ì•„ë˜ ìˆëŠ” ëª¨ë“  ìš”ì†Œë“¤ -->
	<main>
		<div class="d-flex justify-content-between mx-5">
			<div th:replace="~{common/myNav :: myNav}"></div>
			<!-- ì•„ë˜ë§Œ ìˆ˜ì •í•´ì£¼ì„¸ìš” -->
			<!-- ì•„ë˜ë§Œ ìˆ˜ì •í•´ì£¼ì„¸ìš” -->
			<!-- ì•„ë˜ë§Œ ìˆ˜ì •í•´ì£¼ì„¸ìš” -->
			<!-- ì•„ë˜ë§Œ ìˆ˜ì •í•´ì£¼ì„¸ìš” -->
			<!-- ì•„ë˜ë§Œ ìˆ˜ì •í•´ì£¼ì„¸ìš” -->
			<!-- ì•„ë˜ë§Œ ìˆ˜ì •í•´ì£¼ì„¸ìš” -->
			<div class="col-10 pt-3 mb-5 me-4">
				<div class="border-bottom border-3 border-black mb-3">
					<h3>ë§ˆì´í« ë‹¤ì´ì–´ë¦¬</h3>
				</div>
				<form action="/petDiaryEdit.dw" method="POST">
				<input type="hidden" name="drNo" th:value="${d.drNo}">
					<h4>ë§ˆì´í« ë‹¤ì´ì–´ë¦¬ ìˆ˜ì •</h4>
					<br>
					<div class="col-7">
						<div class="d-flex justify-content-between">
							<div class="d-flex">
								<input type="date" name="date" id="drDate" class="form-control d-block" style="width: 150px;" required th:value="${#dates.format(d.drDate, 'yyyy-MM-dd')}">
							</div>
							<div class = "d-flex">
							  <select class="form-select" name="petId" style="width: 160px;" required >
								  <option selected disabled>ê°•ì•„ì§€ ì„ íƒ</option>
							  	  <option th:each="p : ${pet}" th:value="${p.petId}" th:text="${p.petName}" th:selected="${p.petId eq d.petId}"></option>
							  </select>
						 	 </div>
							  <div>
								<!-- <select class="form-select" name="petHealth" style="width:160px" required th:selected="${d.petHealth}">
									<option selected disabled>ì˜¤ëŠ˜ì˜ ìƒíƒœ</option>
									<option value="A">ğŸ˜» ì‹ ë‚˜ìš”</option>
									<option value="B">ğŸ˜¸ ê·¸ëƒ¥ ê·¸ë˜ìš”</option>
									<option value="C">ğŸ˜º ë¬´ê¸°ë ¥í•´ìš”</option>
									<option value="D">ğŸ˜¿ ì•„íŒŒìš”</option>
								</select> -->
								<select class="form-select" name="petHealth" style="width:160px" required>
								    <option selected disabled>ì˜¤ëŠ˜ì˜ ìƒíƒœ</option>
								    <option value="A" th:selected="${d.petHealth == 'A'}">ğŸ˜» ì‹ ë‚˜ìš”</option>
								    <option value="B" th:selected="${d.petHealth == 'B'}">ğŸ˜¸ ê·¸ëƒ¥ ê·¸ë˜ìš”</option>
								    <option value="C" th:selected="${d.petHealth == 'C'}">ğŸ˜º ë¬´ê¸°ë ¥í•´ìš”</option>
								    <option value="D" th:selected="${d.petHealth == 'D'}">ğŸ˜¿ ì•„íŒŒìš”</option>
								</select>
							</div>
						</div>
					</div>
					<br>
					<div class="col-7">
						<p class="text-secondary">[[${d.petName}]]ì˜ í•˜ë£¨<p>
						  <label for="exampleFormControlTextarea1" class="form-label"></label>
						  <textarea style="resize:none;" th:text="${d.drContent}" class="form-control" name="drContent" id="exampleFormControlTextarea1" rows="10" placeholder="ë‚´ìš©ì„ ì…ë ¥í•´ì£¼ì„¸ìš”..."></textarea>
					</div>
					<div class="d-flex justify-content-start mt-5">
					    <button type="submit" class="btn btn-dark btn-sm">ìˆ˜ì •</button>
					</div>
				</form>
			</div>
			<!-- ì—¬ê¸°ê¹Œì§€ê°€ ìˆ˜ì • -->
			<!-- ì—¬ê¸°ê¹Œì§€ê°€ ìˆ˜ì • -->
			<!-- ì—¬ê¸°ê¹Œì§€ê°€ ìˆ˜ì • -->
			<!-- ì—¬ê¸°ê¹Œì§€ê°€ ìˆ˜ì • -->
			<!-- ì—¬ê¸°ê¹Œì§€ê°€ ìˆ˜ì • -->
			<!-- ì—¬ê¸°ê¹Œì§€ê°€ ìˆ˜ì • -->
			<!-- ì—¬ê¸°ê¹Œì§€ê°€ ìˆ˜ì • -->
			<!-- ì—¬ê¸°ê¹Œì§€ê°€ ìˆ˜ì • -->
		</div>
	</main>
	<script>
		const myNav = document.getElementById("myPet3");
		$(myNav).removeClass('text-secondary');
		$(myNav).addClass('active');
		
		//ìƒì¼ ë„˜ì–´ê°€ê¸°
   	    const now_date = Date.now();
        const timeOff = new Date().getTimezoneOffset()*60000;
        const today = new Date(now_date-timeOff).toISOString().split("T")[0];
        document.getElementById("drDate").setAttribute("max", today);
        
        console.log(petId);
	  	console.log(petName);
	</script>
</body>
</html>