<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>WOOFLY</title>
<link rel="icon" href="/image/woofly.png">
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
<style>
	.card {
		cursor: pointer;
	}
</style>
</head>
<body>
	<div th:replace="~{common/topAdd :: topAdd}"></div>
	 <div class="container mt-5 mb-3">
      	<div class="container d-flex px-0 mb-3 border-bottom border-black border-3 justify-content-between align-items-center">
			<h1>실종신고 게시판</h1>
			<a role="button" href="/board/lost/write" class="btn btn-dark btn-sm h-50">글 작성</a>
		</div>
		
		<!--게시글 검색 카테고리 및 검색창-->
		<div class="mt-3" id="searchArea" >			
			<div class="row">
				<label for="search-box" class="form-label">게시글 검색</label>
				<form action="/board/lost/search" method="get" id="searchForm" name="search-form" class="row"> 
					<!--select의 부모 div-->
					<div class="col-auto">
					<select class="form-select" name="searchType">
						<option value="" disabled selected>검색조건</option>
						<option value="title">제목</option>
						<option value="writer">작성자</option>
						<option value="WT">작성자 + 제목</option>
					</select>
					</div>
				<!--input의 부모 div-->
				<div class="col">						
			   	 <input type="text" class="form-control" name="searchKeyword" id="search-box" placeholder="검색어를 입력해주세요">
				</div>
				<!--button의 부모 div-->
				<div class="col-auto">
					<button type="submit" class="btn btn-dark">검색 하기</button>
				</div>
				</form>
			</div>
		</div>
		
		<!-- 게시글 -->
        <div th:each="m : ${mList}" class="col">
            <div class="card shadow-sm">
				<div th:each="a : ${aList}">
					<th:block th:if="${attmPath}">
						<img th:src="@{${a.attmPath}}" class="card-img-top" alt="No image available" th:alt="${a.originalName}">
					</th:block>
				</div>
                <div class="card-body">
                    <div class="card-text">
                        <h6 th:text="${m.mTitle}">글제목</h6>
                        <p th:text="${m.mbNickName}">작성자</p>
                    </div>
                    <div class="d-flex justify-content-between align-items-center">
                        <div th:text="${m.mContent}">게시글 내용</div>
                        <small class="text-muted" th:text="${m.mCount + ' Views'}">조회수</small>
                    </div>
                </div>
            </div>
        </div>
        <!-- 게시글 끝 -->
		
		<!-- 게시글 -->
		<!--<div th:each="m : ${mList}" class="col">
		    <div class="card shadow-sm">
		        <th:block th:if="${#lists.isNotEmpty(m.attachments)}">
		            <img th:src="${m.attachments[0].attmPath}" class="card-img-top" alt="No image available" th:alt="${m.attachments[0].originalName}">
		        </th:block>
		        <div class="card-body">
		            <div class="card-text">
		                <h6 th:text="${m.mTitle}">글제목</h6>
		                <p th:text="${m.mbNickName}">작성자</p>
		            </div>
		            <div class="d-flex justify-content-between align-items-center">
		                <div th:text="${m.mContent}">게시글 내용</div>
		                <small class="text-muted" th:text="${m.mCount + ' Views'}">조회수</small>
		            </div>
		        </div>
		    </div>
		</div>-->
		<!-- 게시글 끝 -->

		
		
		<!--페이징처리 하는 부분-->	
		<nav class="border-top border-black pt-5">
		  	<ul class="pagination justify-content-center">
		    	<li class="page-item">
			      	<a class="page-link" href="#">
			        	<span aria-hidden="true">&laquo;</span>
			      	</a>
		    	</li>
			    <li class="page-item"><a class="page-link" href="#">1</a></li>
			    <li class="page-item"><a class="page-link" href="#">2</a></li>
			    <li class="page-item"><a class="page-link" href="#">3</a></li>
			    <li class="page-item"><a class="page-link" href="#">4</a></li>
			    <li class="page-item"><a class="page-link" href="#">5</a></li>
		    	<li class="page-item">	
			      	<a class="page-link" href="#" aria-label="Next">
				    	<span aria-hidden="true">&raquo;</span>
			      	</a>
		    	</li>
		  	</ul>
		</nav>
		</div>
		
	</div>
	
	
	<script>
		// 해당 페이지 nav bar 강조 넣기
		// 페이지 별로 id만 수정 하면 됨 eg.) topAdd1, topAdd2, ...
		const boardNav = document.getElementById("topAdd7");
		$(boardNav).addClass('active');
		
		// 카드에 클릭 이벤트 넣어주는 부분
		const cards = document.getElementsByClassName("card");
		for (const card of cards) {
			card.addEventListener('click', () => {
				window.location.href = "/board/lost/detail"
			})
		}
	</script>
</body>
</html>